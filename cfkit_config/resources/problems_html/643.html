
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="en">
<head>
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-743380-5"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'UA-743380-5');
        </script>

    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="X-Csrf-Token" content="499a4ed0688a3d0e16a984995043b536"/>
    <meta id="viewport" name="viewport" content="width=device-width, initial-scale=0.01"/>

    <script type="text/javascript" src="//codeforces.org/s/64849/js/jquery-1.8.3.js"></script>
    <script type="application/javascript">
        window.locale = "en";
        window.standaloneContest = false;
        function adjustViewport() {
            var screenWidthPx = Math.min($(window).width(), window.screen.width);
            var siteWidthPx = 1100; // min width of site
            var ratio = Math.min(screenWidthPx / siteWidthPx, 1.0);
            var viewport = "width=device-width, initial-scale=" + ratio;
            $('#viewport').attr('content', viewport);
            var style = $('<style>html * { max-height: 1000000px; }</style>');
            $('html > head').append(style);
        }

        if ( /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent) ) {
            adjustViewport();
        }

        /* Protection against trailing dot in domain. */
        let hostLength = window.location.host.length;
        if (hostLength > 1 && window.location.host[hostLength - 1] === '.') {
            window.location = window.location.protocol + "//" + window.location.host.substring(0, hostLength - 1);
        }
    </script>

    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="expires" content="-1">
    <meta http-equiv="profileName" content="k1">
    <meta name="google-site-verification" content="OTd2dN5x4nS4OPknPI9JFg36fKxjqY0i1PSfFPv_J90"/>
    <meta property="fb:admins" content="100001352546622" />
    <meta property="og:image" content="//codeforces.org/s/64849/images/codeforces-sponsored-by-ton.png" />
    <link rel="image_src" href="//codeforces.org/s/64849/images/codeforces-sponsored-by-ton.png" />
    <meta property="og:title" content="Problems - Codeforces"/>
    <meta property="og:description" content=""/>
    
    <meta property="og:site_name" content="Codeforces"/>
    
    
    
    
    
    
    <meta name="utc_offset" content="+03:00"/>
    <meta name="verify-reformal" content="f56f99fd7e087fb6ccb48ef2" />
    <title>Problems - Codeforces</title>
        <meta name="description" content="Codeforces. Programming competitions and contests, programming community" />
        <meta name="keywords" content="programming algorithm contest competition informatics olympiads c++ java graphs vkcup" />
    <meta name="robots" content="index, follow" />

    <link rel="stylesheet" href="//codeforces.org/s/64849/css/font-awesome.min.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="//codeforces.org/s/64849/css/line-awesome.min.css" type="text/css" charset="utf-8" />

        <link href='//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>
        <link href='//fonts.googleapis.com/css?family=Cuprum&subset=latin,cyrillic' rel='stylesheet' type='text/css'>


    <link rel="apple-touch-icon" sizes="57x57" href="//codeforces.org/s/64849/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="//codeforces.org/s/64849/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="//codeforces.org/s/64849/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="//codeforces.org/s/64849/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="//codeforces.org/s/64849/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="//codeforces.org/s/64849/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="//codeforces.org/s/64849/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="//codeforces.org/s/64849/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="//codeforces.org/s/64849/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="//codeforces.org/s/64849/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="//codeforces.org/s/64849/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="//codeforces.org/s/64849/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="//codeforces.org/s/64849/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="//codeforces.org/s/64849/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <!--CombineResourcesFilter-->
    <link rel="stylesheet" href="//codeforces.org/s/64849/css/prettify.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="//codeforces.org/s/64849/css/clear.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="//codeforces.org/s/64849/css/style.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="//codeforces.org/s/64849/css/ttypography.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="//codeforces.org/s/64849/css/problem-statement.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="//codeforces.org/s/64849/css/second-level-menu.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="//codeforces.org/s/64849/css/roundbox.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="//codeforces.org/s/64849/css/datatable.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="//codeforces.org/s/64849/css/table-form.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="//codeforces.org/s/64849/css/topic.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="//codeforces.org/s/64849/css/jquery.jgrowl.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="//codeforces.org/s/64849/css/facebox.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="//codeforces.org/s/64849/css/jquery.wysiwyg.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="//codeforces.org/s/64849/css/jquery.autocomplete.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="//codeforces.org/s/64849/css/codeforces.datepick.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="//codeforces.org/s/64849/css/colorbox.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="//codeforces.org/s/64849/css/jquery.drafts.css" type="text/css" charset="utf-8" />
        <link rel="stylesheet" href="//codeforces.org/s/64849/css/community.css" type="text/css" charset="utf-8" />
        <link rel="stylesheet" href="//codeforces.org/s/64849/css/sidebar-menu.css" type="text/css" charset="utf-8" />

    <!-- MathJax -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {inlineMath: [['$$$','$$$']], displayMath: [['$$$$$$','$$$$$$']]}
    });
    MathJax.Hub.Register.StartupHook("End", function () {
        Codeforces.runMathJaxListeners();
    });
    </script>
    <script type="text/javascript" async
            src="https://mathjax.codeforces.org/MathJax.js?config=TeX-AMS_HTML-full"
    >
    </script>
    <!-- /MathJax -->

    <script type="text/javascript" src="//codeforces.org/s/64849/js/prettify/prettify.js"></script>
    <script type="text/javascript" src="//codeforces.org/s/64849/js/moment-with-locales.min.js"></script>
    <script type="text/javascript" src="//codeforces.org/s/64849/js/pushstream.js"></script>
    <script type="text/javascript" src="//codeforces.org/s/64849/js/jquery.easing.min.js"></script>
    <script type="text/javascript" src="//codeforces.org/s/64849/js/jquery.lavalamp.min.js"></script>
    <script type="text/javascript" src="//codeforces.org/s/64849/js/jquery.jgrowl.js"></script>
    <script type="text/javascript" src="//codeforces.org/s/64849/js/jquery.swipe.js"></script>
    <script type="text/javascript" src="//codeforces.org/s/64849/js/jquery.hotkeys.js"></script>
    <script type="text/javascript" src="//codeforces.org/s/64849/js/facebox.js"></script>
    <script type="text/javascript" src="//codeforces.org/s/64849/js/jquery.wysiwyg.js"></script>
    <script type="text/javascript" src="//codeforces.org/s/64849/js/controls/wysiwyg.colorpicker.js"></script>
    <script type="text/javascript" src="//codeforces.org/s/64849/js/controls/wysiwyg.table.js"></script>
    <script type="text/javascript" src="//codeforces.org/s/64849/js/controls/wysiwyg.image.js"></script>
    <script type="text/javascript" src="//codeforces.org/s/64849/js/controls/wysiwyg.link.js"></script>
    <script type="text/javascript" src="//codeforces.org/s/64849/js/jquery.autocomplete.js"></script>
    <script type="text/javascript" src="//codeforces.org/s/64849/js/jquery.datepick.js"></script>
    <script type="text/javascript" src="//codeforces.org/s/64849/js/jquery.ie6blocker.js"></script>
    <script type="text/javascript" src="//codeforces.org/s/64849/js/jquery.colorbox-min.js"></script>
    <script type="text/javascript" src="//codeforces.org/s/64849/js/jquery.ba-bbq.js"></script>
    <script type="text/javascript" src="//codeforces.org/s/64849/js/jquery.drafts.js"></script>
    <script type="text/javascript" src="//codeforces.org/s/64849/js/clipboard.min.js"></script>
    <script type="text/javascript" src="//codeforces.org/s/64849/js/autosize.min.js"></script>
    <script type="text/javascript" src="//codeforces.org/s/64849/js/sjcl.js"></script>
    <script type="text/javascript" src="/scripts/f8f695306b4bab3cbdd456143062ab76/en/codeforces-options.js"></script>
    <script type="text/javascript" src="//codeforces.org/s/64849/js/codeforces.js?v=20160131"></script>
    <script type="text/javascript" src="//codeforces.org/s/64849/js/EventCatcher.js?v=20160131"></script>
    <script type="text/javascript" src="//codeforces.org/s/64849/js/preparedVerdictFormats-en.js"></script>
    <script type="text/javascript" src="//codeforces.org/s/64849/js/confetti.min.js"></script>
    <!--/CombineResourcesFilter-->

    <link rel="stylesheet" href="//codeforces.org/s/64849/markitup/skins/markitup/style.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="//codeforces.org/s/64849/markitup/sets/markdown/style.css" type="text/css" charset="utf-8" />


    <script type="text/javascript" src="//codeforces.org/s/64849/markitup/jquery.markitup.js"></script>
    <script type="text/javascript" src="//codeforces.org/s/64849/markitup/sets/markdown/set.js"></script>

    <!--[if IE]>
    <style>
        #sidebar {
            padding-left: 1em;
            margin: 1em 1em 1em 0;
        }
    </style>
    <![endif]-->




</head>
<body class=" "><span style='display:none;' class='csrf-token' data-csrf='499a4ed0688a3d0e16a984995043b536'>&nbsp;</span>

<!-- .notificationTextCleaner used in Codeforces.showAnnouncements() -->
<div class="notificationTextCleaner" style="font-size: 0"></div>
<div class="button-up" style="display: none; opacity: 0.7; width: 50px; height:100%; position: fixed; left: 0; top: 0; cursor: pointer; text-align: center; line-height: 35px; color: #d3dbe4; font-weight: bold; font-size: 3.0rem;"><i class="icon-circle-arrow-up"></i></div>
<div class="verdictPrototypeDiv" style="display: none;"></div>

<!-- Codeforces JavaScripts. -->
<script type="text/javascript">
    String.prototype.hashCode = function() {
        var hash = 0, i, chr;
        if (this.length === 0) return hash;
        for (i = 0; i < this.length; i++) {
            chr   = this.charCodeAt(i);
            hash  = ((hash << 5) - hash) + chr;
            hash |= 0; // Convert to 32bit integer
        }
        return hash;
    };

    var queryMobile = Codeforces.queryString.mobile;
    if (queryMobile === "true" || queryMobile === "false") {
        Codeforces.putToStorage("useMobile", queryMobile === "true");
    } else {
        var useMobile = Codeforces.getFromStorage("useMobile");
        if (useMobile === true || useMobile === false) {
            if (useMobile != false) {
                Codeforces.redirect(Codeforces.updateUrlParameter(document.location.href, "mobile", useMobile));
            }
        }
    }
</script>

<script type="text/javascript">
    if (window.parent.frames.length > 0) {
        window.stop();
    }
</script>





    <script type="text/javascript">
        $(document).ready(function () {
    (function () {
        jQuery.expr[':'].containsCI = function(elem, index, match) {
            return !match || !match.length || match.length < 4 || !match[3] || (
                    elem.textContent || elem.innerText || jQuery(elem).text() || ''
            ).toLowerCase().indexOf(match[3].toLowerCase()) >= 0;
        }
    }(jQuery));

    $.ajaxPrefilter(function(options, originalOptions, xhr) {
        var csrf = Codeforces.getCsrfToken();

        if (csrf) {
            var data = originalOptions.data;
            if (originalOptions.data !== undefined) {
                if (Object.prototype.toString.call(originalOptions.data) === '[object String]') {
                    data = $.deparam(originalOptions.data);
                }
            } else {
                data = {};
            }
            options.data = $.param($.extend(data, { csrf_token: csrf }));
        }
    });

    window.getCodeforcesServerTime = function(callback) {
        $.post("/data/time", {}, callback, "json");
    }

    window.updateTypography = function () {
        $("div.ttypography code").addClass("tt");
        $("div.ttypography pre>code").addClass("prettyprint").removeClass("tt");
        $("div.ttypography table").addClass("bordertable");
        prettyPrint();
    }

    $.ajaxSetup({ scriptCharset: "utf-8" ,contentType: "application/x-www-form-urlencoded; charset=UTF-8", headers: {
        'X-Csrf-Token': Codeforces.getCsrfToken()
    }});

    window.updateTypography();

    Codeforces.signForms();

    setTimeout(function() {
        $(".second-level-menu-list").lavaLamp({
            fx: "backout",
            speed: 700
        });
    }, 100);


    Codeforces.countdown();
    $("a[rel='photobox']").colorbox();


    function showAnnouncements(json) {
        //info("j=" + JSON.stringify(json));

        if (json.t != "a") {
            return;
        }

        setTimeout(function() {
            Codeforces.showAnnouncements(json.d, "en");
        }, Math.random() * 500);
    }

    function showEventCatcherUserMessage(json) {
        if (json.t == "s") {
            var points = json.d[5];
            var passedTestCount = json.d[7];
            var judgedTestCount = json.d[8];
            var verdict = preparedVerdictFormats[json.d[12]];
            var verdictPrototypeDiv = $(".verdictPrototypeDiv");
            verdictPrototypeDiv.html(verdict);
            if (judgedTestCount != null && judgedTestCount != undefined) {
                verdictPrototypeDiv.find(".verdict-format-judged").text(judgedTestCount);
            }
            if (passedTestCount != null && passedTestCount != undefined) {
                verdictPrototypeDiv.find(".verdict-format-passed").text(passedTestCount);
            }
            if (points != null && points != undefined) {
                verdictPrototypeDiv.find(".verdict-format-points").text(points);
            }
            Codeforces.showMessage(verdictPrototypeDiv.text());
        }
    }

    $(".clickable-title").each(function() {
        var title = $(this).attr("data-title");
        if (title) {
            var tmp = document.createElement("DIV");
            tmp.innerHTML = title;
            $(this).attr("title", tmp.textContent || tmp.innerText || "");
        }
    });

    $(".clickable-title").click(function() {
        var title = $(this).attr("data-title");
        if (title) {
            Codeforces.alert(title);
        } else {
            Codeforces.alert($(this).attr("title"));
        }
    }).css("position", "relative").css("bottom", "3px");

        Codeforces.showDelayedMessage();

    Codeforces.reformatTimes();

    //Codeforces.initializePubSub();
    if (window.codeforcesOptions.subscribeServerUrl) {
        window.eventCatcher = new EventCatcher(
            window.codeforcesOptions.subscribeServerUrl,
            [
                Codeforces.getGlobalChannel(),
                Codeforces.getUserChannel(),
                Codeforces.getUserShowMessageChannel(),
                Codeforces.getContestChannel(),
                Codeforces.getParticipantChannel(),
                Codeforces.getTalkChannel()
            ]
        );

        if (Codeforces.getParticipantChannel()) {
            window.eventCatcher.subscribe(Codeforces.getParticipantChannel(), function(json) {
                showAnnouncements(json);
            });
        }

        if (Codeforces.getContestChannel()) {
            window.eventCatcher.subscribe(Codeforces.getContestChannel(), function(json) {
                showAnnouncements(json);
            });
        }

        if (Codeforces.getGlobalChannel()) {
            window.eventCatcher.subscribe(Codeforces.getGlobalChannel(), function(json) {
                showAnnouncements(json);
            });
        }

        if (Codeforces.getUserChannel()) {
            window.eventCatcher.subscribe(Codeforces.getUserChannel(), function(json) {
                showAnnouncements(json);
            });
        }

        if (Codeforces.getUserShowMessageChannel()) {
            window.eventCatcher.subscribe(Codeforces.getUserShowMessageChannel(), function(json) {
                showEventCatcherUserMessage(json);
            });
        }
    }

    Codeforces.setupContestTimes("/data/contests");
    Codeforces.setupSpoilers();
    Codeforces.setupTutorials("/data/problemTutorial");
        });
    </script>


<div id="body">
<div style="width: 950px; margin: 0 auto;" class="compact-problemset">
    <div id="header" style="position: relative; margin: 0;">
        <div style="float:left;">
            <div><a href="/vkcup2016"><img src="//assets.codeforces.com/images/star-vkcup-2016-300.png"/></a></div>
        </div>
        <div class="lang">
            <div style="text-align: right;">
                <a href="?locale=en"><img src="//codeforces.org/s/64849/images/flags/24/gb.png" title="In English" alt="In English"/></a>
                <a href="?locale=ru"><img src="//codeforces.org/s/64849/images/flags/24/ru.png" title="По-русски" alt="По-русски"/></a>
            </div>
        </div>
        <br style="clear: both;"/>
    </div>

    <br style="clear: both;"/>

    <div style="text-align: center; font-size: 1.8rem; margin-bottom: 0.5em;"
         class="caption">VK Cup 2016 - Round 3</div>
    <div style="border-top: 1px solid #ccc; height: 1em;"></div>

    <div class="problem-frames">
        <div
                    style="margin-bottom: 2em;"
        >

    <style>
        #facebox .content:has(.diff-popup) {
            width: 90vw;
            max-width: 120rem !important;
        }

        .testCaseMarker {
            position: absolute;
            font-weight: bold;
            font-size: 1rem;
        }

        .diff-popup {
            width: 90vw;
            max-width: 120rem !important;
            display: none;
            overflow: auto;
        }

        .input-output-copier {
            font-size: 1.2rem;
            float: right;
            color: #888 !important;
            cursor: pointer;
            border: 1px solid rgb(185, 185, 185);
            padding: 3px;
            margin: 1px;
            line-height: 1.1rem;
            text-transform: none;
        }

        .input-output-copier:hover {
            background-color: #def;
        }

        .test-explanation textarea {
            width: 100%;
            height: 1.5em;
        }

        .pending-submission-message {
            color: darkorange !important;
        }
    </style>
    <script>
        const OPENING_SPACE = String.fromCharCode(1001);
        const CLOSING_SPACE = String.fromCharCode(1002);

        const nodeToText = function (node, pre) {
            let result = [];

            if (node.tagName === "SCRIPT" || node.tagName === "math"
                || (node.classList && node.classList.contains("input-output-copier")))
                return [];

            if (node.tagName === "NOBR") {
                result.push(OPENING_SPACE);
            }

            if (node.nodeType === Node.TEXT_NODE) {
                let s = node.textContent;
                if (!pre) {
                    s = s.replace(/\s+/g, " ");
                }
                if (s.length > 0) {
                    result.push(s);
                }
            }

            if (pre && node.tagName === "BR") {
                result.push("\n");
            }

            node.childNodes.forEach(function (child) {
                result.push(nodeToText(child, node.tagName === "PRE").join(""));
            });

            if (node.tagName === "DIV"
                || node.tagName === "P"
                || node.tagName === "PRE"
                || node.tagName === "UL"
                || node.tagName === "LI"
            ) {
                result.push("\n");
            }

            if (node.tagName === "NOBR") {
                result.push(CLOSING_SPACE);
            }

            return result;
        }

        const isSpecial = function (c) {
            return c === ',' || c === '.' || c === ';' || c === ')' || c === ' ';
        }

        const convertStatementToText = function(statmentNode) {
            const text = nodeToText(statmentNode, false).join("").replace(/ +/g, " ").replace(/\n\n+/g, "\n\n");
            let result = [];
            for (let i = 0; i < text.length; i++) {
                const c = text.charAt(i);
                if (c === OPENING_SPACE) {
                    if (!((i > 0 && text.charAt(i - 1) === '(') || (result.length > 0 && result[result.length - 1] === ' '))) {
                        result.push('+');
                    }
                } else if (c === CLOSING_SPACE) {
                    if (!(i + 1 < text.length && isSpecial(text.charAt(i + 1)))) {
                        result.push('-');
                    }
                } else {
                    result.push(c);
                }
            }
            return result.join("").split("\n").map(value => value.trim()).join("\n");
        };
    </script>
    <div class="diff-popup">
    </div>

<div class="problemindexholder" problemindex="A" data-uuid="ps_c33f2aa476eb40793cc77617bc500f4a5b29f7fc">
    <div style="display: none; margin:1em 0;text-align: center; position: relative;" class="alert alert-info diff-notifier">
        <div>The problem statement has recently been changed. <a class="view-changes" href="#">View the changes.</a></div>
        <span class="diff-notifier-close" style="position: absolute; top: 0.2em; right: 0.3em; cursor: pointer; font-size: 1.4em;">&times;</span>
    </div>
        <div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">A. Bear and Colors</div><div class="time-limit"><div class="property-title">time limit per test</div>2 seconds</div><div class="memory-limit"><div class="property-title">memory limit per test</div>256 megabytes</div><div class="input-file"><div class="property-title">input</div>standard input</div><div class="output-file"><div class="property-title">output</div>standard output</div></div><div><p>Bear Limak has <span class="tex-span"><i>n</i></span> colored balls, arranged in one long row. Balls are numbered <span class="tex-span">1</span> through <span class="tex-span"><i>n</i></span>, from left to right. There are <span class="tex-span"><i>n</i></span> possible colors, also numbered <span class="tex-span">1</span> through <span class="tex-span"><i>n</i></span>. The <span class="tex-span"><i>i</i></span>-th ball has color <span class="tex-span"><i>t</i><sub class="lower-index"><i>i</i></sub></span>.</p><p>For a fixed interval (set of consecutive elements) of balls we can define a <span class="tex-font-style-it">dominant</span> color. It's a color occurring the biggest number of times in the interval. In case of a tie between some colors, the one with the smallest number (index) is chosen as dominant.</p><p>There are <img align="middle" class="tex-formula" src="https://espresso.codeforces.com/3b3448b4c7e05c1a849a404dbedb24b7f5fc3c3c.png" style="max-width: 100.0%;max-height: 100.0%;" /> non-empty intervals in total. For each color, your task is to count the number of intervals in which this color is dominant.</p></div><div class="input-specification"><div class="section-title">Input</div><p>The first line of the input contains a single integer <span class="tex-span"><i>n</i></span> (<span class="tex-span">1 ≤ <i>n</i> ≤ 5000</span>) — the number of balls.</p><p>The second line contains <span class="tex-span"><i>n</i></span> integers <span class="tex-span"><i>t</i><sub class="lower-index">1</sub>, <i>t</i><sub class="lower-index">2</sub>, ..., <i>t</i><sub class="lower-index"><i>n</i></sub></span> (<span class="tex-span">1 ≤ <i>t</i><sub class="lower-index"><i>i</i></sub> ≤ <i>n</i></span>) where <span class="tex-span"><i>t</i><sub class="lower-index"><i>i</i></sub></span> is the color of the <span class="tex-span"><i>i</i></span>-th ball.</p></div><div class="output-specification"><div class="section-title">Output</div><p>Print <span class="tex-span"><i>n</i></span> integers. The <span class="tex-span"><i>i</i></span>-th of them should be equal to the number of intervals where <span class="tex-span"><i>i</i></span> is a dominant color.</p></div><div class="sample-tests"><div class="section-title">Examples</div><div class="sample-test"><div class="input"><div class="title">Input</div><pre>4<br />1 2 1 2<br /></pre></div><div class="output"><div class="title">Output</div><pre>7 3 0 0 <br /></pre></div><div class="input"><div class="title">Input</div><pre>3<br />1 1 1<br /></pre></div><div class="output"><div class="title">Output</div><pre>6 0 0 <br /></pre></div></div></div><div class="note"><div class="section-title">Note</div><p>In the first sample, color <span class="tex-span">2</span> is dominant in three intervals:</p><ul> <li> An interval <span class="tex-span">[2, 2]</span> contains one ball. This ball's color is <span class="tex-span">2</span> so it's clearly a dominant color. </li><li> An interval <span class="tex-span">[4, 4]</span> contains one ball, with color <span class="tex-span">2</span> again. </li><li> An interval <span class="tex-span">[2, 4]</span> contains two balls of color <span class="tex-span">2</span> and one ball of color <span class="tex-span">1</span>. </li></ul><p>There are <span class="tex-span">7</span> more intervals and color <span class="tex-span">1</span> is dominant in all of them.</p></div></div><p>  </p></div>
</div>

    <script>
        $(function () {
            Codeforces.addMathJaxListener(function () {
                let $problem = $("div[problemindex=A]");
                let uuid = $problem.attr("data-uuid");
                let statementText = convertStatementToText($problem.find(".ttypography").get(0));

                let previousStatementText = Codeforces.getFromStorage(uuid);
                if (previousStatementText) {
                    if (previousStatementText !== statementText) {
                        $problem.find(".diff-notifier").show();

                        $problem.find(".diff-notifier-close").click(function() {
                            Codeforces.putToStorageTtl(uuid, statementText, 6 * 60 * 60);
                            $problem.find(".diff-notifier").hide();
                        });

                        $problem.find("a.view-changes").click(function() {
                            $.post("/data/diff", {action: "getDiff", a: previousStatementText, b: statementText}, function (result) {
                                if (result["success"] === "true") {
                                    Codeforces.facebox(".diff-popup", "//codeforces.org/s/64849");
                                    $("#facebox .diff-popup").html(result["diff"]);
                                }
                            }, "json");
                        });
                    }
                } else {
                    Codeforces.putToStorageTtl(uuid, statementText, 6 * 60 * 60);
                }
            });
        });
    </script>


<script type="text/javascript">
    $(document).ready(function () {
        window.changedTests = new Set();

        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        const inputFileDiv = $("div.input-file");
        const inputFile = inputFileDiv.text();
        const outputFileDiv = $("div.output-file");
        const outputFile = outputFileDiv.text();


        if (!endsWith(inputFile, "standard input")
            && !endsWith(inputFile, "standard input")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "standard output")
            && !endsWith(outputFile, "standard output")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }

        const titleDiv = $("div.header div.title");



        String.prototype.replaceAll = function (search, replace) {
            return this.split(search).join(replace);
        };

        $(".sample-test .title").each(function () {
            const preId = ("id" + Math.random()).replaceAll(".", "0");
            const cpyId = ("id" + Math.random()).replaceAll(".", "0");

            $(this).parent().find("pre").attr("id", preId);
            const $copy = $("<div title='Copy' data-clipboard-target='#" + preId + "' id='" + cpyId + "' class='input-output-copier'>Copy</div>");
            $(this).append($copy);

            const clipboard = new Clipboard('#' + cpyId, {
                text: function (trigger) {
                    const pre = document.querySelector('#' + preId);
                    const lines = pre.querySelectorAll(".test-example-line");
                    return Codeforces.filterClipboardText(pre.innerText, lines.length);
                }
            });

            const isInput = $(this).parent().hasClass("input");

            clipboard.on('success', function (e) {
                if (isInput) {
                    Codeforces.showMessage("The example input has been copied into the clipboard");
                } else {
                    Codeforces.showMessage("The example output has been copied into the clipboard");
                }
                e.clearSelection();
            });
        });

        $(".test-form-item input").change(function () {
            addPendingSubmissionMessage($($(this).closest("form")), "You changed the answer, do not forget to submit it if you want to save the changes");
            const index = $(this).closest(".problemindexholder").attr("problemindex");
            let test = "";
            $(this).closest("form input").each(function () {
                const test_ = $(this).attr("name");
                if (test_ && test_.substring(0, 4) === "test") {
                    test = test_;
                }
            });
            if (index.length > 0 && test.length > 0) {
                const indexTest = index + "::" + test;
                window.changedTests.add(indexTest);
            }
        });

        $(window).on('beforeunload', function () {
            if (window.changedTests.size > 0) {
                return 'Dialog text here';
            }
        });

        autosize($('.test-explanation textarea'));

        $(".test-example-line").hover(function() {
            $(this).attr("class").split(" ").forEach((clazz) => {
                if (clazz.substr(0, "test-example-line-".length) === "test-example-line-") {
                    let end = clazz.substr("test-example-line-".length);
                    if (end !== "even" && end !== "odd" && end !== "0") {
                        let top = 1E20;
                        let left = 1E20;
                        let problem = $(this).closest(".problemindexholder");
                        $(this).closest(".input").find("." + clazz).css("background-color", "#FFFDE7").each(function() {
                            top = Math.min(top, $(this).offset().top);
                            left = Math.min(left, $(this).offset().left);
                        });
                        let testCaseMarker = problem.find(".testCaseMarker_" + end);
                        if (testCaseMarker.length === 0) {
                            const html = "<div class=\"testCaseMarker testCaseMarker_" + end + " notice\"></div>";
                            problem.append($(html));
                            testCaseMarker = problem.find(".testCaseMarker_" + end);
                        }
                        if (testCaseMarker) {
                            testCaseMarker.show()
                                    .offset({top, left: left - 20})
                                    .text(end);
                        }
                    }
                }
            });
        }, function() {
            $(this).attr("class").split(" ").forEach((clazz) => {
                if (clazz.substr(0, "test-example-line-".length) === "test-example-line-") {
                    let end = clazz.substr("test-example-line-".length);
                    if (end !== "even" && end !== "odd" && end !== "0") {
                        $("." + clazz).css("background-color", "");
                        $(this).closest(".problemindexholder").find(".testCaseMarker_" + end).hide();
                    }
                }
            });
        });

    });
</script>
        </div>
        <div
                    style="margin-bottom: 2em;"
        >


<div class="problemindexholder" problemindex="B" data-uuid="ps_5c5812ec2d6e0f61309091ac6a5b56aa92c40f9c">
    <div style="display: none; margin:1em 0;text-align: center; position: relative;" class="alert alert-info diff-notifier">
        <div>The problem statement has recently been changed. <a class="view-changes" href="#">View the changes.</a></div>
        <span class="diff-notifier-close" style="position: absolute; top: 0.2em; right: 0.3em; cursor: pointer; font-size: 1.4em;">&times;</span>
    </div>
        <div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">B. Bear and Two Paths</div><div class="time-limit"><div class="property-title">time limit per test</div>2 seconds</div><div class="memory-limit"><div class="property-title">memory limit per test</div>256 megabytes</div><div class="input-file"><div class="property-title">input</div>standard input</div><div class="output-file"><div class="property-title">output</div>standard output</div></div><div><p>Bearland has <span class="tex-span"><i>n</i></span> cities, numbered <span class="tex-span">1</span> through <span class="tex-span"><i>n</i></span>. Cities are connected via bidirectional roads. Each road connects two distinct cities. No two roads connect the same pair of cities.</p><p>Bear Limak was once in a city <span class="tex-span"><i>a</i></span> and he wanted to go to a city <span class="tex-span"><i>b</i></span>. There was no direct connection so he decided to take a long walk, visiting each city <span class="tex-font-style-bf">exactly once</span>. Formally: </p><ul> <li> There is no road between <span class="tex-span"><i>a</i></span> and <span class="tex-span"><i>b</i></span>. </li><li> There exists a sequence (path) of <span class="tex-span"><i>n</i></span> distinct cities <span class="tex-span"><i>v</i><sub class="lower-index">1</sub>, <i>v</i><sub class="lower-index">2</sub>, ..., <i>v</i><sub class="lower-index"><i>n</i></sub></span> that <span class="tex-span"><i>v</i><sub class="lower-index">1</sub> = <i>a</i></span>, <span class="tex-span"><i>v</i><sub class="lower-index"><i>n</i></sub> = <i>b</i></span> and there is a road between <span class="tex-span"><i>v</i><sub class="lower-index"><i>i</i></sub></span> and <span class="tex-span"><i>v</i><sub class="lower-index"><i>i</i> + 1</sub></span> for <img align="middle" class="tex-formula" src="https://espresso.codeforces.com/23e5d4ea4f6228395f4a124f9060fbe08e8efbfc.png" style="max-width: 100.0%;max-height: 100.0%;" />. </li></ul><p>On the other day, the similar thing happened. Limak wanted to travel between a city <span class="tex-span"><i>c</i></span> and a city <span class="tex-span"><i>d</i></span>. There is no road between them but there exists a sequence of <span class="tex-span"><i>n</i></span> distinct cities <span class="tex-span"><i>u</i><sub class="lower-index">1</sub>, <i>u</i><sub class="lower-index">2</sub>, ..., <i>u</i><sub class="lower-index"><i>n</i></sub></span> that <span class="tex-span"><i>u</i><sub class="lower-index">1</sub> = <i>c</i></span>, <span class="tex-span"><i>u</i><sub class="lower-index"><i>n</i></sub> = <i>d</i></span> and there is a road between <span class="tex-span"><i>u</i><sub class="lower-index"><i>i</i></sub></span> and <span class="tex-span"><i>u</i><sub class="lower-index"><i>i</i> + 1</sub></span> for <img align="middle" class="tex-formula" src="https://espresso.codeforces.com/23e5d4ea4f6228395f4a124f9060fbe08e8efbfc.png" style="max-width: 100.0%;max-height: 100.0%;" />.</p><p>Also, Limak thinks that there are at most <span class="tex-span"><i>k</i></span> roads in Bearland. He wonders whether he remembers everything correctly.</p><p>Given <span class="tex-span"><i>n</i></span>, <span class="tex-span"><i>k</i></span> and four distinct cities <span class="tex-span"><i>a</i></span>, <span class="tex-span"><i>b</i></span>, <span class="tex-span"><i>c</i></span>, <span class="tex-span"><i>d</i></span>, can you find possible paths <span class="tex-span">(<i>v</i><sub class="lower-index">1</sub>, ..., <i>v</i><sub class="lower-index"><i>n</i></sub>)</span> and <span class="tex-span">(<i>u</i><sub class="lower-index">1</sub>, ..., <i>u</i><sub class="lower-index"><i>n</i></sub>)</span> to satisfy all the given conditions? Find any solution or print <span class="tex-font-style-tt">-1</span> if it's impossible.</p></div><div class="input-specification"><div class="section-title">Input</div><p>The first line of the input contains two integers <span class="tex-span"><i>n</i></span> and <span class="tex-span"><i>k</i></span> (<span class="tex-span">4 ≤ <i>n</i> ≤ 1000</span>, <span class="tex-span"><i>n</i> - 1 ≤ <i>k</i> ≤ 2<i>n</i> - 2</span>) — the number of cities and the maximum allowed number of roads, respectively.</p><p>The second line contains four <span class="tex-font-style-bf">distinct</span> integers <span class="tex-span"><i>a</i></span>, <span class="tex-span"><i>b</i></span>, <span class="tex-span"><i>c</i></span> and <span class="tex-span"><i>d</i></span> (<span class="tex-span">1 ≤ <i>a</i>, <i>b</i>, <i>c</i>, <i>d</i> ≤ <i>n</i></span>).</p></div><div class="output-specification"><div class="section-title">Output</div><p>Print <span class="tex-font-style-tt">-1</span> if it's impossible to satisfy all the given conditions. Otherwise, print two lines with paths descriptions. The first of these two lines should contain <span class="tex-span"><i>n</i></span> distinct integers <span class="tex-span"><i>v</i><sub class="lower-index">1</sub>, <i>v</i><sub class="lower-index">2</sub>, ..., <i>v</i><sub class="lower-index"><i>n</i></sub></span> where <span class="tex-span"><i>v</i><sub class="lower-index">1</sub> = <i>a</i></span> and <span class="tex-span"><i>v</i><sub class="lower-index"><i>n</i></sub> = <i>b</i></span>. The second line should contain <span class="tex-span"><i>n</i></span> distinct integers <span class="tex-span"><i>u</i><sub class="lower-index">1</sub>, <i>u</i><sub class="lower-index">2</sub>, ..., <i>u</i><sub class="lower-index"><i>n</i></sub></span> where <span class="tex-span"><i>u</i><sub class="lower-index">1</sub> = <i>c</i></span> and <span class="tex-span"><i>u</i><sub class="lower-index"><i>n</i></sub> = <i>d</i></span>.</p><p>Two paths generate at most <span class="tex-span">2<i>n</i> - 2</span> roads: <span class="tex-span">(<i>v</i><sub class="lower-index">1</sub>, <i>v</i><sub class="lower-index">2</sub>), (<i>v</i><sub class="lower-index">2</sub>, <i>v</i><sub class="lower-index">3</sub>), ..., (<i>v</i><sub class="lower-index"><i>n</i> - 1</sub>, <i>v</i><sub class="lower-index"><i>n</i></sub>), (<i>u</i><sub class="lower-index">1</sub>, <i>u</i><sub class="lower-index">2</sub>), (<i>u</i><sub class="lower-index">2</sub>, <i>u</i><sub class="lower-index">3</sub>), ..., (<i>u</i><sub class="lower-index"><i>n</i> - 1</sub>, <i>u</i><sub class="lower-index"><i>n</i></sub>)</span>. Your answer will be considered wrong if contains more than <span class="tex-span"><i>k</i></span> distinct roads or any other condition breaks. Note that <span class="tex-span">(<i>x</i>, <i>y</i>)</span> and <span class="tex-span">(<i>y</i>, <i>x</i>)</span> are the same road.</p></div><div class="sample-tests"><div class="section-title">Examples</div><div class="sample-test"><div class="input"><div class="title">Input</div><pre>7 11<br />2 4 7 3<br /></pre></div><div class="output"><div class="title">Output</div><pre>2 7 1 3 6 5 4<br />7 1 5 4 6 2 3<br /></pre></div><div class="input"><div class="title">Input</div><pre>1000 999<br />10 20 30 40<br /></pre></div><div class="output"><div class="title">Output</div><pre>-1<br /></pre></div></div></div><div class="note"><div class="section-title">Note</div><p>In the first sample test, there should be <span class="tex-span">7</span> cities and at most <span class="tex-span">11</span> roads. The provided sample solution generates <span class="tex-span">10</span> roads, as in the drawing. You can also see a simple path of length <span class="tex-span"><i>n</i></span> between <span class="tex-span">2</span> and <span class="tex-span">4</span>, and a path between <span class="tex-span">7</span> and <span class="tex-span">3</span>.</p><center> <img class="tex-graphics" src="https://espresso.codeforces.com/58dec3e8514751ba57473ff99eae98f6a4c57658.png" style="max-width: 100.0%;max-height: 100.0%;" /> </center></div></div><p>  </p></div>
</div>

    <script>
        $(function () {
            Codeforces.addMathJaxListener(function () {
                let $problem = $("div[problemindex=B]");
                let uuid = $problem.attr("data-uuid");
                let statementText = convertStatementToText($problem.find(".ttypography").get(0));

                let previousStatementText = Codeforces.getFromStorage(uuid);
                if (previousStatementText) {
                    if (previousStatementText !== statementText) {
                        $problem.find(".diff-notifier").show();

                        $problem.find(".diff-notifier-close").click(function() {
                            Codeforces.putToStorageTtl(uuid, statementText, 6 * 60 * 60);
                            $problem.find(".diff-notifier").hide();
                        });

                        $problem.find("a.view-changes").click(function() {
                            $.post("/data/diff", {action: "getDiff", a: previousStatementText, b: statementText}, function (result) {
                                if (result["success"] === "true") {
                                    Codeforces.facebox(".diff-popup", "//codeforces.org/s/64849");
                                    $("#facebox .diff-popup").html(result["diff"]);
                                }
                            }, "json");
                        });
                    }
                } else {
                    Codeforces.putToStorageTtl(uuid, statementText, 6 * 60 * 60);
                }
            });
        });
    </script>


<script type="text/javascript">
    $(document).ready(function () {

        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        const inputFileDiv = $("div.input-file");
        const inputFile = inputFileDiv.text();
        const outputFileDiv = $("div.output-file");
        const outputFile = outputFileDiv.text();


        if (!endsWith(inputFile, "standard input")
            && !endsWith(inputFile, "standard input")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "standard output")
            && !endsWith(outputFile, "standard output")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }

        const titleDiv = $("div.header div.title");




    });
</script>
        </div>
        <div
                    style="margin-bottom: 2em;"
        >


<div class="problemindexholder" problemindex="C" data-uuid="ps_519b6d45f83e76cb92147bf406d33322b2714c1f">
    <div style="display: none; margin:1em 0;text-align: center; position: relative;" class="alert alert-info diff-notifier">
        <div>The problem statement has recently been changed. <a class="view-changes" href="#">View the changes.</a></div>
        <span class="diff-notifier-close" style="position: absolute; top: 0.2em; right: 0.3em; cursor: pointer; font-size: 1.4em;">&times;</span>
    </div>
        <div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">C. Levels and Regions</div><div class="time-limit"><div class="property-title">time limit per test</div>3 seconds</div><div class="memory-limit"><div class="property-title">memory limit per test</div>256 megabytes</div><div class="input-file"><div class="property-title">input</div>standard input</div><div class="output-file"><div class="property-title">output</div>standard output</div></div><div><p>Radewoosh is playing a computer game. There are <span class="tex-span"><i>n</i></span> levels, numbered <span class="tex-span">1</span> through <span class="tex-span"><i>n</i></span>. Levels are divided into <span class="tex-span"><i>k</i></span> regions (groups). Each region contains some positive number of consecutive levels.</p><p>The game repeats the the following process:</p><ol><li> If all regions are beaten then the game ends immediately. Otherwise, the system finds the first region with at least one non-beaten level. Let <span class="tex-span"><i>X</i></span> denote this region.</li><li> The system creates an empty bag for tokens. Each token will represent one level and there may be many tokens representing the same level.<ul> <li> For each already beaten level <span class="tex-span"><i>i</i></span> in the region <span class="tex-span"><i>X</i></span>, the system adds <span class="tex-span"><i>t</i><sub class="lower-index"><i>i</i></sub></span> tokens to the bag (tokens representing the <span class="tex-span"><i>i</i></span>-th level). </li><li> Let <span class="tex-span"><i>j</i></span> denote the first non-beaten level in the region <span class="tex-span"><i>X</i></span>. The system adds <span class="tex-span"><i>t</i><sub class="lower-index"><i>j</i></sub></span> tokens to the bag. </li></ul></li><li> Finally, the system takes a uniformly random token from the bag and a player starts the level represented by the token. A player spends one hour and beats the level, even if he has already beaten it in the past. </li></ol><p>Given <span class="tex-span"><i>n</i></span>, <span class="tex-span"><i>k</i></span> and values <span class="tex-span"><i>t</i><sub class="lower-index">1</sub>, <i>t</i><sub class="lower-index">2</sub>, ..., <i>t</i><sub class="lower-index"><i>n</i></sub></span>, your task is to split levels into regions. Each level must belong to exactly one region, and each region must contain non-empty consecutive set of levels. What is the minimum possible expected number of hours required to finish the game?</p></div><div class="input-specification"><div class="section-title">Input</div><p>The first line of the input contains two integers <span class="tex-span"><i>n</i></span> and <span class="tex-span"><i>k</i></span> (<span class="tex-span">1 ≤ <i>n</i> ≤ 200 000</span>, <span class="tex-span">1 ≤ <i>k</i> ≤ <i>min</i>(50, <i>n</i>)</span>) — the number of levels and the number of regions, respectively.</p><p>The second line contains <span class="tex-span"><i>n</i></span> integers <span class="tex-span"><i>t</i><sub class="lower-index">1</sub>, <i>t</i><sub class="lower-index">2</sub>, ..., <i>t</i><sub class="lower-index"><i>n</i></sub></span> (<span class="tex-span">1 ≤ <i>t</i><sub class="lower-index"><i>i</i></sub> ≤ 100 000</span>).</p></div><div class="output-specification"><div class="section-title">Output</div><p>Print one real number — the minimum possible expected value of the number of hours spent to finish the game if levels are distributed between regions in the optimal way. Your answer will be considered correct if its absolute or relative error does not exceed <span class="tex-span">10<sup class="upper-index"> - 4</sup></span>.</p><p>Namely: let's assume that your answer is <span class="tex-span"><i>a</i></span>, and the answer of the jury is <span class="tex-span"><i>b</i></span>. The checker program will consider your answer correct if <img align="middle" class="tex-formula" src="https://espresso.codeforces.com/ed7f03ed3bd360b767269cbe2c7b6ff4c182a74d.png" style="max-width: 100.0%;max-height: 100.0%;" />.</p></div><div class="sample-tests"><div class="section-title">Examples</div><div class="sample-test"><div class="input"><div class="title">Input</div><pre>4 2<br />100 3 5 7<br /></pre></div><div class="output"><div class="title">Output</div><pre>5.7428571429<br /></pre></div><div class="input"><div class="title">Input</div><pre>6 2<br />1 2 4 8 16 32<br /></pre></div><div class="output"><div class="title">Output</div><pre>8.5000000000<br /></pre></div></div></div><div class="note"><div class="section-title">Note</div><p>In the first sample, we are supposed to split <span class="tex-span">4</span> levels into <span class="tex-span">2</span> regions. It's optimal to create the first region with only one level (it must be the first level). Then, the second region must contain other three levels.</p><p>In the second sample, it's optimal to split levels into two regions with <span class="tex-span">3</span> levels each.</p></div></div><p>  </p></div>
</div>

    <script>
        $(function () {
            Codeforces.addMathJaxListener(function () {
                let $problem = $("div[problemindex=C]");
                let uuid = $problem.attr("data-uuid");
                let statementText = convertStatementToText($problem.find(".ttypography").get(0));

                let previousStatementText = Codeforces.getFromStorage(uuid);
                if (previousStatementText) {
                    if (previousStatementText !== statementText) {
                        $problem.find(".diff-notifier").show();

                        $problem.find(".diff-notifier-close").click(function() {
                            Codeforces.putToStorageTtl(uuid, statementText, 6 * 60 * 60);
                            $problem.find(".diff-notifier").hide();
                        });

                        $problem.find("a.view-changes").click(function() {
                            $.post("/data/diff", {action: "getDiff", a: previousStatementText, b: statementText}, function (result) {
                                if (result["success"] === "true") {
                                    Codeforces.facebox(".diff-popup", "//codeforces.org/s/64849");
                                    $("#facebox .diff-popup").html(result["diff"]);
                                }
                            }, "json");
                        });
                    }
                } else {
                    Codeforces.putToStorageTtl(uuid, statementText, 6 * 60 * 60);
                }
            });
        });
    </script>


<script type="text/javascript">
    $(document).ready(function () {

        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        const inputFileDiv = $("div.input-file");
        const inputFile = inputFileDiv.text();
        const outputFileDiv = $("div.output-file");
        const outputFile = outputFileDiv.text();


        if (!endsWith(inputFile, "standard input")
            && !endsWith(inputFile, "standard input")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "standard output")
            && !endsWith(outputFile, "standard output")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }

        const titleDiv = $("div.header div.title");




    });
</script>
        </div>
        <div
                    style="margin-bottom: 2em;"
        >


<div class="problemindexholder" problemindex="D" data-uuid="ps_ebc6c78bec6e8e8940e8eea4685ac8bd59dbc3c0">
    <div style="display: none; margin:1em 0;text-align: center; position: relative;" class="alert alert-info diff-notifier">
        <div>The problem statement has recently been changed. <a class="view-changes" href="#">View the changes.</a></div>
        <span class="diff-notifier-close" style="position: absolute; top: 0.2em; right: 0.3em; cursor: pointer; font-size: 1.4em;">&times;</span>
    </div>
        <div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">D. Bearish Fanpages</div><div class="time-limit"><div class="property-title">time limit per test</div>5 seconds</div><div class="memory-limit"><div class="property-title">memory limit per test</div>256 megabytes</div><div class="input-file"><div class="property-title">input</div>standard input</div><div class="output-file"><div class="property-title">output</div>standard output</div></div><div><p>There is a social website with <span class="tex-span"><i>n</i></span> fanpages, numbered <span class="tex-span">1</span> through <span class="tex-span"><i>n</i></span>. There are also <span class="tex-span"><i>n</i></span> companies, and the <span class="tex-span"><i>i</i></span>-th company owns the <span class="tex-span"><i>i</i></span>-th fanpage.</p><p>Recently, the website created a feature called following. Each fanpage must choose exactly one other fanpage to follow.</p><p>The website doesn’t allow a situation where <span class="tex-span"><i>i</i></span> follows <span class="tex-span"><i>j</i></span> and at the same time <span class="tex-span"><i>j</i></span> follows <span class="tex-span"><i>i</i></span>. Also, a fanpage can't follow itself.</p><p>Let’s say that fanpage <span class="tex-span"><i>i</i></span> follows some other fanpage <span class="tex-span"><i>j</i><sub class="lower-index">0</sub></span>. Also, let’s say that <span class="tex-span"><i>i</i></span> is followed by <span class="tex-span"><i>k</i></span> other fanpages <span class="tex-span"><i>j</i><sub class="lower-index">1</sub>, <i>j</i><sub class="lower-index">2</sub>, ..., <i>j</i><sub class="lower-index"><i>k</i></sub></span>. Then, when people visit fanpage <span class="tex-span"><i>i</i></span> they see ads from <span class="tex-span"><i>k</i> + 2</span> distinct companies: <span class="tex-span"><i>i</i>, <i>j</i><sub class="lower-index">0</sub>, <i>j</i><sub class="lower-index">1</sub>, ..., <i>j</i><sub class="lower-index"><i>k</i></sub></span>. Exactly <span class="tex-span"><i>t</i><sub class="lower-index"><i>i</i></sub></span> people subscribe (like) the <span class="tex-span"><i>i</i></span>-th fanpage, and each of them will click exactly one add. For each of <span class="tex-span"><i>k</i> + 1</span> companies <span class="tex-span"><i>j</i><sub class="lower-index">0</sub>, <i>j</i><sub class="lower-index">1</sub>, ..., <i>j</i><sub class="lower-index"><i>k</i></sub></span>, exactly <img align="middle" class="tex-formula" src="https://espresso.codeforces.com/daa783f40a6589e61f4d719af8bfe4752d85defa.png" style="max-width: 100.0%;max-height: 100.0%;" /> people will click their ad. Remaining <img align="middle" class="tex-formula" src="https://espresso.codeforces.com/a5cc25f6c8d1afd9f7e310afb555547e4c636bc3.png" style="max-width: 100.0%;max-height: 100.0%;" /> people will click an ad from company <span class="tex-span"><i>i</i></span> (the owner of the fanpage).</p><p>The total income of the company is equal to the number of people who click ads from this copmany.</p><p>Limak and Radewoosh ask you for help. Initially, fanpage <span class="tex-span"><i>i</i></span> follows fanpage <span class="tex-span"><i>f</i><sub class="lower-index"><i>i</i></sub></span>. Your task is to handle <span class="tex-span"><i>q</i></span> queries of three types:</p><ul> <li> <span class="tex-font-style-tt">1 i j</span> — fanpage <span class="tex-span"><i>i</i></span> follows fanpage <span class="tex-span"><i>j</i></span> from now. It's guaranteed that <span class="tex-span"><i>i</i></span> didn't follow <span class="tex-span"><i>j</i></span> just before the query. Note an extra constraint for the number of queries of this type (below, in the Input section). </li><li> <span class="tex-font-style-tt">2 i</span> — print the total income of the <span class="tex-span"><i>i</i></span>-th company. </li><li> <span class="tex-font-style-tt">3</span> — print two integers: the smallest income of one company and the biggest income of one company. </li></ul></div><div class="input-specification"><div class="section-title">Input</div><p>The first line of the input contains two integers <span class="tex-span"><i>n</i></span> and <span class="tex-span"><i>q</i></span> (<span class="tex-span">3 ≤ <i>n</i> ≤ 100 000</span>, <span class="tex-span">1 ≤ <i>q</i> ≤ 100 000</span>) — the number of fanpages and the number of queries, respectively.</p><p>The second line contains <span class="tex-span"><i>n</i></span> integers <span class="tex-span"><i>t</i><sub class="lower-index">1</sub>, <i>t</i><sub class="lower-index">2</sub>, ..., <i>t</i><sub class="lower-index"><i>n</i></sub></span> (<span class="tex-span">1 ≤ <i>t</i><sub class="lower-index"><i>i</i></sub> ≤ 10<sup class="upper-index">12</sup></span>) where <span class="tex-span"><i>t</i><sub class="lower-index"><i>i</i></sub></span> denotes the number of people subscribing the <span class="tex-span"><i>i</i></span>-th fanpage.</p><p>The third line contains <span class="tex-span"><i>n</i></span> integers <span class="tex-span"><i>f</i><sub class="lower-index">1</sub>, <i>f</i><sub class="lower-index">2</sub>, ..., <i>f</i><sub class="lower-index"><i>n</i></sub></span> (<span class="tex-span">1 ≤ <i>f</i><sub class="lower-index"><i>i</i></sub> ≤ <i>n</i></span>). Initially, fanpage <span class="tex-span"><i>i</i></span> follows fanpage <span class="tex-span"><i>f</i><sub class="lower-index"><i>i</i></sub></span>.</p><p>Then, <span class="tex-span"><i>q</i></span> lines follow. The <span class="tex-span"><i>i</i></span>-th of them describes the <span class="tex-span"><i>i</i></span>-th query. The first number in the line is an integer <span class="tex-span"><i>type</i><sub class="lower-index"><i>i</i></sub></span> (<span class="tex-span">1 ≤ <i>type</i><sub class="lower-index"><i>i</i></sub> ≤ 3</span>) — the type of the query.</p><p>There will be at most <span class="tex-span">50 000</span> queries of the first type. There will be at least one query of the second or the third type (so, the output won't be empty).</p><p>It's guaranteed that at each moment a fanpage doesn't follow itself, and that no two fanpages follow each other.</p></div><div class="output-specification"><div class="section-title">Output</div><p>For each query of the second type print one integer in a separate line - the total income of the given company. For each query of the third type print two integers in a separate line - the minimum and the maximum total income, respectively.</p></div><div class="sample-tests"><div class="section-title">Example</div><div class="sample-test"><div class="input"><div class="title">Input</div><pre>5 12<br />10 20 30 40 50<br />2 3 4 5 2<br />2 1<br />2 2<br />2 3<br />2 4<br />2 5<br />1 4 2<br />2 1<br />2 2<br />2 3<br />2 4<br />2 5<br />3<br /></pre></div><div class="output"><div class="title">Output</div><pre>10<br />36<br />28<br />40<br />36<br />9<br />57<br />27<br />28<br />29<br />9 57<br /></pre></div></div></div><div class="note"><div class="section-title">Note</div><center> <img class="tex-graphics" src="https://espresso.codeforces.com/d6e6650b3ea6964b62ef00a1c1d0cdbd98ed5bc3.png" style="max-width: 100.0%;max-height: 100.0%;" /> </center><p>In the sample test, there are <span class="tex-span">5</span> fanpages. The <span class="tex-span"><i>i</i></span>-th of them has <span class="tex-span"><i>i</i>·10</span> subscribers.</p><p>On drawings, numbers of subscribers are written in circles. An arrow from <span class="tex-span"><i>A</i></span> to <span class="tex-span"><i>B</i></span> means that <span class="tex-span"><i>A</i></span> follows <span class="tex-span"><i>B</i></span>.</p><p>The left drawing shows the initial situation. The first company gets income <img align="middle" class="tex-formula" src="https://espresso.codeforces.com/aa287c04033fd5717b34060017a16ed1930b6a77.png" style="max-width: 100.0%;max-height: 100.0%;" /> from its own fanpage, and gets income <img align="middle" class="tex-formula" src="https://espresso.codeforces.com/545b52a4f4acc0a81e4c81f01a57750f8d8a5045.png" style="max-width: 100.0%;max-height: 100.0%;" /> from the <span class="tex-span">2</span>-nd fanpage. So, the total income is <span class="tex-span">5 + 5 = 10</span>. After the first query (&quot;<span class="tex-font-style-tt">2 1</span>&quot;) you should print <span class="tex-span">10</span>.</p><p>The right drawing shows the situation after a query &quot;<span class="tex-font-style-tt">1 4 2</span>&quot; (after which fanpage <span class="tex-span">4</span> follows fanpage <span class="tex-span">2</span>). Then, the first company still gets income <span class="tex-span">5</span> from its own fanpage, but now it gets only <img align="middle" class="tex-formula" src="https://espresso.codeforces.com/08e222f472ebd19466616b7774c41626722a1995.png" style="max-width: 100.0%;max-height: 100.0%;" /> from the <span class="tex-span">2</span>-nd fanpage. So, the total income is <span class="tex-span">5 + 4 = 9</span> now.</p></div></div><p>  </p></div>
</div>

    <script>
        $(function () {
            Codeforces.addMathJaxListener(function () {
                let $problem = $("div[problemindex=D]");
                let uuid = $problem.attr("data-uuid");
                let statementText = convertStatementToText($problem.find(".ttypography").get(0));

                let previousStatementText = Codeforces.getFromStorage(uuid);
                if (previousStatementText) {
                    if (previousStatementText !== statementText) {
                        $problem.find(".diff-notifier").show();

                        $problem.find(".diff-notifier-close").click(function() {
                            Codeforces.putToStorageTtl(uuid, statementText, 6 * 60 * 60);
                            $problem.find(".diff-notifier").hide();
                        });

                        $problem.find("a.view-changes").click(function() {
                            $.post("/data/diff", {action: "getDiff", a: previousStatementText, b: statementText}, function (result) {
                                if (result["success"] === "true") {
                                    Codeforces.facebox(".diff-popup", "//codeforces.org/s/64849");
                                    $("#facebox .diff-popup").html(result["diff"]);
                                }
                            }, "json");
                        });
                    }
                } else {
                    Codeforces.putToStorageTtl(uuid, statementText, 6 * 60 * 60);
                }
            });
        });
    </script>


<script type="text/javascript">
    $(document).ready(function () {

        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        const inputFileDiv = $("div.input-file");
        const inputFile = inputFileDiv.text();
        const outputFileDiv = $("div.output-file");
        const outputFile = outputFileDiv.text();


        if (!endsWith(inputFile, "standard input")
            && !endsWith(inputFile, "standard input")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "standard output")
            && !endsWith(outputFile, "standard output")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }

        const titleDiv = $("div.header div.title");




    });
</script>
        </div>
        <div
                    style="margin-bottom: 2em;"
        >


<div class="problemindexholder" problemindex="E" data-uuid="ps_8bb3f5aaeefe5085a823d947afb08ed5052efeaa">
    <div style="display: none; margin:1em 0;text-align: center; position: relative;" class="alert alert-info diff-notifier">
        <div>The problem statement has recently been changed. <a class="view-changes" href="#">View the changes.</a></div>
        <span class="diff-notifier-close" style="position: absolute; top: 0.2em; right: 0.3em; cursor: pointer; font-size: 1.4em;">&times;</span>
    </div>
        <div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">E. Bear and Destroying Subtrees</div><div class="time-limit"><div class="property-title">time limit per test</div>5 seconds</div><div class="memory-limit"><div class="property-title">memory limit per test</div>512 megabytes</div><div class="input-file"><div class="property-title">input</div>standard input</div><div class="output-file"><div class="property-title">output</div>standard output</div></div><div><p>Limak is a little grizzly bear. He will once attack Deerland but now he can only destroy trees in role-playing games. Limak starts with a tree with one vertex. The only vertex has index <span class="tex-span">1</span> and is a root of the tree.</p><p>Sometimes, a game chooses a subtree and allows Limak to attack it. When a subtree is attacked then each of its edges is destroyed with probability <img align="middle" class="tex-formula" src="https://espresso.codeforces.com/eb946338365d9781f7d2e9ec692c26702d0ae3a7.png" style="max-width: 100.0%;max-height: 100.0%;" />, independently of other edges. Then, Limak gets the penalty — an integer equal to the height of the subtree after the attack. The height is defined as the maximum number of edges on the path between the root of the subtree and any vertex in the subtree.</p><p>You must handle queries of two types.</p><ul> <li> <span class="tex-font-style-tt">1 v</span> denotes a query of the first type. A new vertex appears and its parent is <span class="tex-span"><i>v</i></span>. A new vertex has the next available index (so, new vertices will be numbered <span class="tex-span">2, 3, ...</span>). </li><li> <span class="tex-font-style-tt">2 v</span> denotes a query of the second type. For a moment let's assume that the game allows Limak to attack a subtree rooted in <span class="tex-span"><i>v</i></span>. Then, what would be the expected value of the penalty Limak gets after the attack? </li></ul><p>In a query of the second type, Limak doesn't actually attack the subtree and thus the query doesn't affect next queries.</p></div><div class="input-specification"><div class="section-title">Input</div><p>The first line of the input contains one integer <span class="tex-span"><i>q</i></span> (<span class="tex-span">1 ≤ <i>q</i> ≤ 500 000</span>) — the number of queries.</p><p>Then, <span class="tex-span"><i>q</i></span> lines follow. The <span class="tex-span"><i>i</i></span>-th of them contains two integers <span class="tex-span"><i>type</i><sub class="lower-index"><i>i</i></sub></span> and <span class="tex-span"><i>v</i><sub class="lower-index"><i>i</i></sub></span> (<span class="tex-span">1 ≤ <i>type</i><sub class="lower-index"><i>i</i></sub> ≤ 2</span>). If <span class="tex-span"><i>type</i><sub class="lower-index"><i>i</i></sub> = 1</span> then <span class="tex-span"><i>v</i><sub class="lower-index"><i>i</i></sub></span> denotes a parent of a new vertex, while if <span class="tex-span"><i>type</i><sub class="lower-index"><i>i</i></sub> = 2</span> then you should print the answer for a subtree rooted in <span class="tex-span"><i>v</i><sub class="lower-index"><i>i</i></sub></span>.</p><p>It's guaranteed that there will be at least <span class="tex-span">1</span> query of the second type, that is, the output won't be empty.</p><p>It's guaranteed that just before the <span class="tex-span"><i>i</i></span>-th query a vertex <span class="tex-span"><i>v</i><sub class="lower-index"><i>i</i></sub></span> already exists.</p></div><div class="output-specification"><div class="section-title">Output</div><p>For each query of the second type print one real number —the expected value of the penalty if Limak attacks the given subtree. Your answer will be considered correct if its absolute or relative error does not exceed <span class="tex-span">10<sup class="upper-index"> - 6</sup></span>.</p><p>Namely: let's assume that your answer is <span class="tex-span"><i>a</i></span>, and the answer of the jury is <span class="tex-span"><i>b</i></span>. The checker program will consider your answer correct if <img align="middle" class="tex-formula" src="https://espresso.codeforces.com/fb10c3e3b874552413ba93d1cdf2971c83f2ebe0.png" style="max-width: 100.0%;max-height: 100.0%;" />.</p></div><div class="sample-tests"><div class="section-title">Examples</div><div class="sample-test"><div class="input"><div class="title">Input</div><pre>7<br />1 1<br />1 1<br />2 1<br />1 2<br />1 3<br />2 2<br />2 1<br /></pre></div><div class="output"><div class="title">Output</div><pre>0.7500000000<br />0.5000000000<br />1.1875000000<br /></pre></div><div class="input"><div class="title">Input</div><pre>8<br />2 1<br />1 1<br />1 2<br />1 3<br />1 4<br />2 1<br />1 4<br />2 1<br /></pre></div><div class="output"><div class="title">Output</div><pre>0.0000000000<br />0.9375000000<br />0.9687500000<br /></pre></div></div></div><div class="note"><div class="section-title">Note</div><p>Below, you can see the drawing for the first sample. Red circles denote queries of the second type.</p><center> <img class="tex-graphics" src="https://espresso.codeforces.com/5faa3cb62f996e1841db4dfbb7c2b128dfe18b04.png" style="max-width: 100.0%;max-height: 100.0%;" /> </center></div></div><p>  </p></div>
</div>

    <script>
        $(function () {
            Codeforces.addMathJaxListener(function () {
                let $problem = $("div[problemindex=E]");
                let uuid = $problem.attr("data-uuid");
                let statementText = convertStatementToText($problem.find(".ttypography").get(0));

                let previousStatementText = Codeforces.getFromStorage(uuid);
                if (previousStatementText) {
                    if (previousStatementText !== statementText) {
                        $problem.find(".diff-notifier").show();

                        $problem.find(".diff-notifier-close").click(function() {
                            Codeforces.putToStorageTtl(uuid, statementText, 6 * 60 * 60);
                            $problem.find(".diff-notifier").hide();
                        });

                        $problem.find("a.view-changes").click(function() {
                            $.post("/data/diff", {action: "getDiff", a: previousStatementText, b: statementText}, function (result) {
                                if (result["success"] === "true") {
                                    Codeforces.facebox(".diff-popup", "//codeforces.org/s/64849");
                                    $("#facebox .diff-popup").html(result["diff"]);
                                }
                            }, "json");
                        });
                    }
                } else {
                    Codeforces.putToStorageTtl(uuid, statementText, 6 * 60 * 60);
                }
            });
        });
    </script>


<script type="text/javascript">
    $(document).ready(function () {

        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        const inputFileDiv = $("div.input-file");
        const inputFile = inputFileDiv.text();
        const outputFileDiv = $("div.output-file");
        const outputFile = outputFileDiv.text();


        if (!endsWith(inputFile, "standard input")
            && !endsWith(inputFile, "standard input")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "standard output")
            && !endsWith(outputFile, "standard output")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }

        const titleDiv = $("div.header div.title");




    });
</script>
        </div>
        <div
                    style="margin-bottom: 2em;"
        >


<div class="problemindexholder" problemindex="F" data-uuid="ps_bc8c65c0ad0a64e0e14930e837994d50783c999d">
    <div style="display: none; margin:1em 0;text-align: center; position: relative;" class="alert alert-info diff-notifier">
        <div>The problem statement has recently been changed. <a class="view-changes" href="#">View the changes.</a></div>
        <span class="diff-notifier-close" style="position: absolute; top: 0.2em; right: 0.3em; cursor: pointer; font-size: 1.4em;">&times;</span>
    </div>
        <div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">F. Bears and Juice</div><div class="time-limit"><div class="property-title">time limit per test</div>5 seconds</div><div class="memory-limit"><div class="property-title">memory limit per test</div>256 megabytes</div><div class="input-file"><div class="property-title">input</div>standard input</div><div class="output-file"><div class="property-title">output</div>standard output</div></div><div><p>There are <span class="tex-span"><i>n</i></span> bears in the inn and <span class="tex-span"><i>p</i></span> places to sleep. Bears will party together for some number of nights (and days).</p><p>Bears love drinking juice. They don't like wine but they can't distinguish it from juice by taste or smell.</p><p>A bear doesn't sleep unless he drinks wine. A bear must go to sleep a few hours after drinking a wine. He will wake up many days after the party is over.</p><p>Radewoosh is the owner of the inn. He wants to put some number of barrels in front of bears. One barrel will contain wine and all other ones will contain juice. Radewoosh will challenge bears to find a barrel with wine.</p><p>Each night, the following happens in this exact order:</p><ol> <li> Each bear must choose a (maybe empty) set of barrels. The same barrel may be chosen by many bears. </li><li> Each bear drinks a glass from each barrel he chose. </li><li> All bears who drink wine go to sleep (exactly those bears who chose a barrel with wine). They will wake up many days after the party is over. If there are not enough places to sleep then bears lose immediately. </li></ol><p>At the end, if it's sure where wine is and there is at least one awake bear then bears win (unless they have lost before because of the number of places to sleep).</p><p>Radewoosh wants to allow bears to win. He considers <span class="tex-span"><i>q</i></span> scenarios. In the <span class="tex-span"><i>i</i></span>-th scenario the party will last for <span class="tex-span"><i>i</i></span> nights. Then, let <span class="tex-span"><i>R</i><sub class="lower-index"><i>i</i></sub></span> denote the maximum number of barrels for which bears surely win if they behave optimally. Let's define <img align="middle" class="tex-formula" src="https://espresso.codeforces.com/aa85ca4caef891acc09b71a549d14e5ac2d80746.png" style="max-width: 100.0%;max-height: 100.0%;" />. Your task is to find <img align="middle" class="tex-formula" src="https://espresso.codeforces.com/a9508034c6074683459bbbd26844e1b3e9b41d5e.png" style="max-width: 100.0%;max-height: 100.0%;" />, where <img align="middle" class="tex-formula" src="https://espresso.codeforces.com/c4b7092c0f7ce6535f2574569c98f7b3c2fe2c5f.png" style="max-width: 100.0%;max-height: 100.0%;" /> denotes the exclusive or (also denoted as XOR).</p><p>Note that the same barrel may be chosen by many bears and all of them will go to sleep at once.</p></div><div class="input-specification"><div class="section-title">Input</div><p>The only line of the input contains three integers <span class="tex-span"><i>n</i></span>, <span class="tex-span"><i>p</i></span> and <span class="tex-span"><i>q</i></span> (<span class="tex-span">1 ≤ <i>n</i> ≤ 10<sup class="upper-index">9</sup></span>, <span class="tex-span">1 ≤ <i>p</i> ≤ 130</span>, <span class="tex-span">1 ≤ <i>q</i> ≤ 2 000 000</span>) — the number of bears, the number of places to sleep and the number of scenarios, respectively.</p></div><div class="output-specification"><div class="section-title">Output</div><p>Print one integer, equal to <img align="middle" class="tex-formula" src="https://espresso.codeforces.com/a9508034c6074683459bbbd26844e1b3e9b41d5e.png" style="max-width: 100.0%;max-height: 100.0%;" />.</p></div><div class="sample-tests"><div class="section-title">Examples</div><div class="sample-test"><div class="input"><div class="title">Input</div><pre>5 1 3<br /></pre></div><div class="output"><div class="title">Output</div><pre>32<br /></pre></div><div class="input"><div class="title">Input</div><pre>1 100 4<br /></pre></div><div class="output"><div class="title">Output</div><pre>4<br /></pre></div><div class="input"><div class="title">Input</div><pre>3 2 1<br /></pre></div><div class="output"><div class="title">Output</div><pre>7<br /></pre></div><div class="input"><div class="title">Input</div><pre>100 100 100<br /></pre></div><div class="output"><div class="title">Output</div><pre>381863924<br /></pre></div></div></div><div class="note"><div class="section-title">Note</div><p>In the first sample, there are <span class="tex-span">5</span> bears and only <span class="tex-span">1</span> place to sleep. We have <span class="tex-span"><i>R</i><sub class="lower-index">1</sub> = 6, <i>R</i><sub class="lower-index">2</sub> = 11, <i>R</i><sub class="lower-index">3</sub> = 16</span> so the answer is <img align="middle" class="tex-formula" src="https://espresso.codeforces.com/b3272ae710321a0a8ceffa5d8c9afe3bf54e75eb.png" style="max-width: 100.0%;max-height: 100.0%;" />. Let's analyze the optimal strategy for scenario with <span class="tex-span">2</span> days. There are <span class="tex-span"><i>R</i><sub class="lower-index">2</sub> = 11</span> barrels and <span class="tex-span">10</span> of them contain juice.</p><ul> <li> In the first night, the <span class="tex-span"><i>i</i></span>-th bear chooses a barrel <span class="tex-span"><i>i</i></span> only. <ul> <li> If one of the first <span class="tex-span">5</span> barrels contains wine then one bear goes to sleep. Then, bears win because they know where wine is and there is at least one awake bear. </li><li> But let's say none of the first <span class="tex-span">5</span> barrels contains wine. In the second night, the <span class="tex-span"><i>i</i></span>-th bear chooses a barrel <span class="tex-span">5 + <i>i</i></span>. <ul> <li> If one of barrels <span class="tex-span">6 – 10</span> contains wine then one bear goes to sleep. And again, bears win in such a situation. </li><li> If nobody went to sleep then wine is in a barrel <span class="tex-span">11</span>. </li></ul> </li></ul> </li></ul><p>In the second sample, there is only one bear. He should choose an empty set of barrels in each night. Otherwise, he would maybe get wine and bears would lose (because there must be at least one awake bear). So, for any number of days we have <span class="tex-span"><i>R</i><sub class="lower-index"><i>i</i></sub> = 1</span>. The answer is <img align="middle" class="tex-formula" src="https://espresso.codeforces.com/c8b4cc3bcaf1329398e221289359b01c0a392ec5.png" style="max-width: 100.0%;max-height: 100.0%;" />.</p></div></div><p>  </p></div>
</div>

    <script>
        $(function () {
            Codeforces.addMathJaxListener(function () {
                let $problem = $("div[problemindex=F]");
                let uuid = $problem.attr("data-uuid");
                let statementText = convertStatementToText($problem.find(".ttypography").get(0));

                let previousStatementText = Codeforces.getFromStorage(uuid);
                if (previousStatementText) {
                    if (previousStatementText !== statementText) {
                        $problem.find(".diff-notifier").show();

                        $problem.find(".diff-notifier-close").click(function() {
                            Codeforces.putToStorageTtl(uuid, statementText, 6 * 60 * 60);
                            $problem.find(".diff-notifier").hide();
                        });

                        $problem.find("a.view-changes").click(function() {
                            $.post("/data/diff", {action: "getDiff", a: previousStatementText, b: statementText}, function (result) {
                                if (result["success"] === "true") {
                                    Codeforces.facebox(".diff-popup", "//codeforces.org/s/64849");
                                    $("#facebox .diff-popup").html(result["diff"]);
                                }
                            }, "json");
                        });
                    }
                } else {
                    Codeforces.putToStorageTtl(uuid, statementText, 6 * 60 * 60);
                }
            });
        });
    </script>


<script type="text/javascript">
    $(document).ready(function () {

        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        const inputFileDiv = $("div.input-file");
        const inputFile = inputFileDiv.text();
        const outputFileDiv = $("div.output-file");
        const outputFile = outputFileDiv.text();


        if (!endsWith(inputFile, "standard input")
            && !endsWith(inputFile, "standard input")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "standard output")
            && !endsWith(outputFile, "standard output")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }

        const titleDiv = $("div.header div.title");




    });
</script>
        </div>
        <div
                    style="margin-bottom: 1em;"
        >


<div class="problemindexholder" problemindex="G" data-uuid="ps_ed60b0d3031fecd292adf9d652d5fad983bacdda">
    <div style="display: none; margin:1em 0;text-align: center; position: relative;" class="alert alert-info diff-notifier">
        <div>The problem statement has recently been changed. <a class="view-changes" href="#">View the changes.</a></div>
        <span class="diff-notifier-close" style="position: absolute; top: 0.2em; right: 0.3em; cursor: pointer; font-size: 1.4em;">&times;</span>
    </div>
        <div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">G. Choosing Ads</div><div class="time-limit"><div class="property-title">time limit per test</div>3 seconds</div><div class="memory-limit"><div class="property-title">memory limit per test</div>512 megabytes</div><div class="input-file"><div class="property-title">input</div>standard input</div><div class="output-file"><div class="property-title">output</div>standard output</div></div><div><p>One social network developer recently suggested a new algorithm of choosing ads for users.</p><p>There are <span class="tex-span"><i>n</i></span> slots which advertisers can buy. It is possible to buy a segment of consecutive slots at once. The more slots you own, the bigger are the chances your ad will be shown to users.</p><p>Every time it is needed to choose ads to show, some segment of slots is picked by a secret algorithm. Then some advertisers are chosen. The only restriction is that it should be guaranteed for advertisers which own at least <span class="tex-span"><i>p</i></span>% of slots composing this segment that their ad will be shown.</p><p>From the other side, users don't like ads. So it was decided to show no more than <img align="middle" class="tex-formula" src="https://espresso.codeforces.com/1bc337dc838aaf4cb888794bfd7335875815ad18.png" style="max-width: 100.0%;max-height: 100.0%;" /> ads at once. You are asked to develop a system to sell segments of slots and choose ads in accordance with the rules described above.</p></div><div class="input-specification"><div class="section-title">Input</div><p>The first line of the input contains three integers <span class="tex-span"><i>n</i></span>, <span class="tex-span"><i>m</i></span> and <span class="tex-span"><i>p</i></span> (<span class="tex-span">1 ≤ <i>n</i>, <i>m</i> ≤ 150 000, 20 ≤ <i>p</i> ≤ 100</span>) — the number of slots, the number of queries to your system and threshold for which display of the ad is guaranteed.</p><p>Next line contains <span class="tex-span"><i>n</i></span> integers <span class="tex-span"><i>a</i><sub class="lower-index"><i>i</i></sub></span> (<span class="tex-span">1 ≤ <i>a</i><sub class="lower-index"><i>i</i></sub> ≤ 150 000)</span>, where the <span class="tex-span"><i>i</i></span>-th number means id of advertiser who currently owns the <span class="tex-span"><i>i</i></span>-th slot.</p><p>Next <span class="tex-span"><i>m</i></span> lines contain queries descriptions. Each description is of one of the following forms: </p><ul> <li> <span class="tex-font-style-tt">1 l r id</span> (<span class="tex-span">1 ≤ <i>l</i> ≤ <i>r</i> ≤ <i>n</i>, 1 ≤ <i>id</i> ≤ 150 000</span>) — advertiser <span class="tex-span"><i>id</i></span> bought all slots in a range from <span class="tex-span"><i>l</i></span> to <span class="tex-span"><i>r</i></span> inclusive; </li><li> <span class="tex-font-style-tt">2 l r</span> (<span class="tex-span">1 ≤ <i>l</i> ≤ <i>r</i></span>) — you need to choose advertisers for segment <span class="tex-span">[<i>l</i>, <i>r</i>]</span>. </li></ul></div><div class="output-specification"><div class="section-title">Output</div><p>For each query of the second type answer should be printed in a separate line. First integer of the answer should be the number of advertisements that will be shown <img align="middle" class="tex-formula" src="https://espresso.codeforces.com/594d68d450c6e46a07817cd2b8464ce07dfdbb98.png" style="max-width: 100.0%;max-height: 100.0%;" />. Next <span class="tex-span"><i>cnt</i></span> integers should be advertisers' ids. </p><p>It is allowed to print one advertiser more than once, but each advertiser that owns at least <img align="middle" class="tex-formula" src="https://espresso.codeforces.com/fe34e8b1cc20989935fc8ac482138d67059c322e.png" style="max-width: 100.0%;max-height: 100.0%;" /> slots of the segment from <span class="tex-span"><i>l</i></span> to <span class="tex-span"><i>r</i></span> should be in your answer.</p></div><div class="sample-tests"><div class="section-title">Example</div><div class="sample-test"><div class="input"><div class="title">Input</div><pre>5 9 33<br />1 2 1 3 3<br />2 1 5<br />2 1 5<br />2 1 3<br />2 3 3<br />1 2 4 5<br />2 1 5<br />2 3 5<br />1 4 5 1<br />2 1 5<br /></pre></div><div class="output"><div class="title">Output</div><pre>3 1 2 3<br />2 1 3<br />2 2 1<br />3 1 1000 1000<br />1 5<br />2 5 3<br />2 1 5</pre></div></div></div><div class="note"><div class="section-title">Note</div><p>Samples demonstrate that you actually have quite a lot of freedom in choosing advertisers.</p></div></div><p>  </p></div>
</div>

    <script>
        $(function () {
            Codeforces.addMathJaxListener(function () {
                let $problem = $("div[problemindex=G]");
                let uuid = $problem.attr("data-uuid");
                let statementText = convertStatementToText($problem.find(".ttypography").get(0));

                let previousStatementText = Codeforces.getFromStorage(uuid);
                if (previousStatementText) {
                    if (previousStatementText !== statementText) {
                        $problem.find(".diff-notifier").show();

                        $problem.find(".diff-notifier-close").click(function() {
                            Codeforces.putToStorageTtl(uuid, statementText, 6 * 60 * 60);
                            $problem.find(".diff-notifier").hide();
                        });

                        $problem.find("a.view-changes").click(function() {
                            $.post("/data/diff", {action: "getDiff", a: previousStatementText, b: statementText}, function (result) {
                                if (result["success"] === "true") {
                                    Codeforces.facebox(".diff-popup", "//codeforces.org/s/64849");
                                    $("#facebox .diff-popup").html(result["diff"]);
                                }
                            }, "json");
                        });
                    }
                } else {
                    Codeforces.putToStorageTtl(uuid, statementText, 6 * 60 * 60);
                }
            });
        });
    </script>


<script type="text/javascript">
    $(document).ready(function () {

        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        const inputFileDiv = $("div.input-file");
        const inputFile = inputFileDiv.text();
        const outputFileDiv = $("div.output-file");
        const outputFile = outputFileDiv.text();


        if (!endsWith(inputFile, "standard input")
            && !endsWith(inputFile, "standard input")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "standard output")
            && !endsWith(outputFile, "standard output")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }

        const titleDiv = $("div.header div.title");




    });
</script>
        </div>
    </div>

    <div id="footer">
        <div><a href="https://codeforces.com/">Codeforces</a> (c) Copyright 2010-2024 Mike Mirzayanov</div>
        <div>The only programming contests Web 2.0 platform</div>

    </div>

</div>
</div>
    <script type="application/javascript">
        if ('serviceWorker' in navigator && 'fetch' in window && 'caches' in window) {
            navigator.serviceWorker.register('/service-worker-64849.js')
                .then(function (registration) {
                    console.log('Service worker registered: ', registration);
                })
                .catch(function (error) {
                    console.log('Registration failed: ', error);
                });
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'8a015a0d2d6c777c',t:'MTcyMDQ1NTEwMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
