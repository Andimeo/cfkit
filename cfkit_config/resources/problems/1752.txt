45th ICPC World Finals Challenge powered by Huawei - Problem 1


A. Parameterized Branch Instruction Stream Generation
time limit per test: 15 seconds
memory limit per test: 1024 megabytes
input: standard input
output: standard output

Examples
Input
3
17
0.42 0.18
0.58 0.16
0.50 0.41 3
Output
1
2 0 001
3 1 00010001
2 2 101101
Input
1
2
0.50 0.00
1.00 0.00
0.50 0.00 1
Output
1
1 0 01
Scoring
Solution will be considered incorrect if the output program control flow does not describe the control flow graph with the provided number of internal nodes $$$n$$$ and a route with a length $$$k$$$.
Solutions that time out or exceed the memory limit will be considered invalid.
If the solution is correct, its score is calculated: first, by calculating the microarchitecture-independent-characteristics for the output program control flow generated by the solution, represented as floating point numbers rounded to 2 decimal places before score formula calculations; and second, how closely the output MIC is compared to the input (original) MIC, using the following formula: $$$$$$ \begin{equation*} \begin{split} \text{score} = 100 &- 15 \cdot \delta_\text{mean of right output direction ratios} - 15 \cdot \delta_\text{std of right output direction ratios} \\ &- 15 \cdot \delta_\text{mean of output direction transition ratios} - 15 \cdot \delta_\text{std of output direction transition ratios} \\ &- 20 \cdot \delta_\text{mean of correlation coefficients} - 20 \cdot \delta_\text{std of correlation coefficients}, \end{split} \end{equation*} $$$$$$ where $$$\delta$$$ is the relative error for input value $$$I$$$ and output value $$$O$$$ $$$$$$ \delta = \left|\frac{O - I}{I}\right| \quad (I > 0) $$$$$$ If $$$\delta \ge 1$$$, then $$$\delta = 1$$$. If $$$I = 0$$$, then $$$\delta = 1$$$ when $$$I \ne O$$$, and $$$\delta = 0$$$ otherwise.
For multiple test cases, the final score is calculated as the sum of scores of individual tests.
If two solutions have the same score, the solution submitted first wins.
Third-party libraries and multi-thread parallel implementation are not allowed.
----------------------------------------------------------------------------------------------------
